(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11220d48"],{1191:function(e,t,s){"use strict";s("cafc")},"48aa":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"panel-search",attrs:{flex:"dir:top"}},[s("div",{staticClass:"panel-search__input-group",attrs:{"flex-box":"0",flex:"dir:top main:center cross:center"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handlePanelClick(t)}}},[s("img",{staticClass:"panel-search__logo",attrs:{src:e.$publicPath+"image/theme/"+e.themeActiveSetting.name+"/logo/all.png",alt:""}}),s("el-autocomplete",{ref:"input",staticClass:"panel-search__input",attrs:{"value-key":"fullTitle","suffix-icon":"el-icon-search",placeholder:"搜索页面","fetch-suggestions":e.querySearch,"trigger-on-focus":!1,clearable:!0},on:{select:e.handleSelect},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.handleEsc(t)}},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.item;return s("cs-panel-search-item",{attrs:{item:t}})}}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),s("div",{staticClass:"panel-search__tip"},[e._v(" 您可以使用按键 "),s("el-button",{staticClass:"panel-search__key",attrs:{type:"text"}},[e._v(e._s(e.hotkey.open))]),e._v(" 唤醒搜索面板，按 "),s("el-button",{staticClass:"panel-search__key",attrs:{type:"text"},on:{click:e.handleEsc}},[e._v(e._s(e.hotkey.close))]),e._v(" 关闭 ")],1)],1),e.resultsList.length>0?s("div",{staticClass:"panel-search__results-group",attrs:{"flex-box":"1"}},[s("el-card",{staticStyle:{"border-radius":"0"},attrs:{shadow:"never"}},[s("div",{staticClass:"panel-search__results-group-inner"},e._l(e.resultsList,(function(t,n){return s("cs-panel-search-item",{key:n,attrs:{item:t,"hover-mode":!0},nativeOn:{click:function(s){return e.handleResultsGroupItemClick(t.path)}}})})),1)])],1):e._e()])},a=[],c=(s("d81d"),s("d3b7"),s("ac1f"),s("841c"),s("5530")),i=s("8d85"),l=s.n(i),r=s("b55f"),u=s("5880"),o={mixins:[r["a"]],components:{"cs-panel-search-item":function(){return s.e("chunk-21a53bd3").then(s.bind(null,"f1ee"))}},data:function(){return{searchText:"",results:[]}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(u["mapState"])("careyshop/search",["hotkey","pool"])),Object(u["mapGetters"])("careyshop",{themeActiveSetting:"theme/activeSetting"})),{},{resultsList:function(){return 0===this.results.length&&""===this.searchText?this.pool.map((function(e){return Object(c["a"])({value:e.fullTitle},e)})):this.results},fuse:function(){return new l.a(this.pool,{shouldSort:!0,tokenize:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,minMatchCharLength:1,keys:["fullTitle","path"]})}}),methods:{querySearch:function(e,t){var s=this.fuse.search(e).map((function(e){return e.item}));this.results=s,t(s)},focus:function(){var e=this;setTimeout((function(){e.$refs.input&&e.$refs.input.focus(),e.searchText="",e.results=[]}),500)},handleResultsGroupItemClick:function(e){e!==this.$route.path&&this.handleMenuSelect(e),this.handleEsc()},handleSelect:function(e){var t=this,s=e.path;s!==this.$route.path&&this.$nextTick((function(){t.handleMenuSelect(s)})),this.handleEsc()},closeSuggestion:function(){this.$refs.input.activated&&(this.$refs.input.suggestions=[],this.$refs.input.activated=!1)},handlePanelClick:function(){this.handleEsc()},handleEsc:function(){var e=this;this.closeSuggestion(),this.searchText="",this.results=[],this.$nextTick((function(){e.$emit("close")}))}}},h=o,p=(s("1191"),s("2877")),f=Object(p["a"])(h,n,a,!1,null,"2497b1ba",null);t["default"]=f.exports},cafc:function(e,t,s){}}]);