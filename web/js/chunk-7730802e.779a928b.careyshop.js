(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7730802e"],{"190b":function(t,e,n){"use strict";n("9c24")},"88bf":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{visible:t.visible,"append-to-body":!0,"close-on-click-modal":!1,width:"600px"},on:{"update:visible":function(e){t.visible=e}}},[n("div",{staticStyle:{"margin-top":"-25px"}},[n("el-divider",[t._v("所辖区域")]),t._l(t.value,(function(e){return n("el-tag",{key:e.region_id,staticClass:"region-tag",attrs:{"disable-transitions":!0,effect:"plain",type:"info",closable:""},on:{close:function(n){return t.handleClose(e)}}},[t._v(" "+t._s(e.name)+" ")])})),t.value.length<=0?n("div",{staticClass:"not-region"},[n("span",[t._v("暂无区域")])]):t._e(),n("el-divider",[t._v("区域选择")]),t.visible?n("el-tree",{staticClass:"tree-scroll",attrs:{"node-key":"region_id",props:t.treeProps,load:t.loadNode,lazy:!0},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,o=e.data;return n("span",{staticClass:"custom-tree-node action"},[n("span",[t._v(t._s(i.label))]),n("span",{staticClass:"active"},[n("el-button",{attrs:{type:"text",size:"mini",icon:"el-icon-plus"},on:{click:function(e){return e.stopPropagation(),t.addRegion(o)}}},[t._v("加入到所辖区域")])],1)])}}],null,!1,2355408561)}):t._e()],2),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",loading:t.loading,size:"small"},on:{click:t.update}},[t._v("确定")])],1)])},o=[],a=(n("7db0"),n("c975"),n("d81d"),n("a434"),n("b0c0"),n("d3b7"),n("2909")),r=n("f86b"),l=n("7633"),s={props:{value:{type:Array,required:!1,default:function(){return[]}},confirm:{type:Function}},data:function(){return{areaId:0,visible:!1,loading:!1,regionId:1,treeProps:{label:"region_name",children:"children"}}},methods:{handleRegionDlg:function(t){this.areaId=t,this.loading=!1,this.visible=!0},handleClose:function(t){var e=Object(a["a"])(this.value);e.splice(this.value.indexOf(t),1),this.$emit("input",e)},loadNode:function(t,e){this.getRegionData(t.level?t.key:this.regionId,e)},getRegionData:function(t,e){Object(r["c"])({region_id:t}).then((function(t){e(t.data||[])}))},addRegion:function(t){var e=this.value.find((function(e){return e.region_id===t.region_id}));if(e)this.$message.warning("".concat(e.name," 在所辖区域中已存在"));else{var n=Object(a["a"])(this.value);n.push({name:t.region_name,region_id:t.region_id}),this.$emit("input",n)}},update:function(){var t=this;this.loading=!0,Object(l["d"])({delivery_area_id:this.areaId,region:this.value.map((function(t){return t.region_id}))}).then((function(e){t.$emit("confirm",e.data.region),t.visible=!1})).finally((function(){t.loading=!1}))}}},d=s,c=(n("190b"),n("2877")),u=Object(c["a"])(d,i,o,!1,null,"fb74e814",null);e["default"]=u.exports},"9c24":function(t,e,n){},f86b:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return u}));var i=n("5530"),o=n("bc07"),a="/v1/region";function r(t){return Object(o["a"])({url:a,method:"post",data:Object(i["a"])({method:"add.region.item"},t)})}function l(t){return Object(o["a"])({url:a,method:"post",data:Object(i["a"])({method:"set.region.item"},t)})}function s(t){return Object(o["a"])({url:a,method:"post",data:{method:"del.region.list",region_id:t}})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(o["a"])({url:a,method:"post",data:Object(i["a"])({method:"get.region.list"},t)})}function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Object(o["a"])({url:a,method:"post",data:Object(i["a"])({method:"get.region.son.list"},t)})}function u(t){return Object(o["a"])({url:a,method:"post",data:{method:"set.region.index",region_id:t}})}}}]);